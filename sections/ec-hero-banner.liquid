{{ 'section-ec-hero-banner.css' | asset_url | stylesheet_tag }}

{%- style -%}
.section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
}

@media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
        padding-top: {{ section.settings.padding_top }}px;
        padding-bottom: {{ section.settings.padding_bottom }}px;
    }
}
{%- endstyle -%}

{%- if section.settings.desktop_image_height == 'adapt' and section.settings.desktop_image != blank -%}
    {%- style -%}  
      @media screen and (min-width: 750px) {
        #Banner-{{ section.id }}::before,
        #Banner-{{ section.id }} .ec-hero-banner__media::before {
          padding-bottom: {{ 1 | divided_by: section.settings.desktop_image.aspect_ratio | times: 100 }}%;
          content: '';
          display: block;
        }
      }
    {%- endstyle -%}
  {%- endif -%}
  
  {%- if section.settings.mobile_image_height == 'adapt' and section.settings.mobile_image != blank -%}
    {%- style -%}
      @media screen and (max-width: 749px) {
        #Banner-{{ section.id }}::before,
        #Banner-{{ section.id }} .ec-hero-banner__media::before {
          padding-bottom: {{ 1 | divided_by: section.settings.mobile_image.aspect_ratio | times: 100 }}%;
          content: '';
          display: block;
        }
      }
    {%- endstyle -%}
  {%- endif -%}


{%- liquid
assign sizes = '100vw'
assign widths = '375, 550, 750, 1100, 1500, 1780, 2000, 3000, 3840'

assign fetch_priority = 'auto'
if section.index == 1
assign fetch_priority = 'high'
endif
-%}


<div 
    class="ec-hero-banner ec-banner-desktop-{{  section.settings.desktop_image_height }} ec-banner-mobile-{{  section.settings.mobile_image_height }} color-{{ section.settings.color_scheme }}"
    id="Banner-{{ section.id }}"
>
{%- if section.settings.mobile_image == blank and section.settings.desktop_image != blank -%}
    <div class="ec-hero-banner__media">
        {%- liquid
            assign image_height = section.settings.desktop_image.width | divided_by: section.settings.desktop_image.aspect_ratio
        -%}
        {{
            section.settings.desktop_image
            | image_url: width: 3840
            | image_tag:
                width: section.settings.desktop_image.width,
                height: image_height,
                sizes: sizes,
                widths: widths,
                fetchpriority: fetch_priority
        }}
    </div>
{%- elsif section.settings.mobile_image != blank and section.settings.desktop_image != blank -%}
    <div class="ec-small-hide ec-medium-hide">
        <div class="ec-hero-banner__media">
            {%- liquid
            assign image_height = section.settings.desktop_image.width | divided_by: section.settings.desktop_image.aspect_ratio
            -%}
            {{
                section.settings.desktop_image
                | image_url: width: 3840
                | image_tag:
                    width: section.settings.desktop_image.width,
                    height: image_height,
                    sizes: sizes,
                    widths: widths,
                    fetchpriority: fetch_priority
            }}
        </div>
    </div>
    <div class="ec-large-up-hide">
        <div class="ec-hero-banner__media">
            {%- liquid
            assign image_height = section.settings.mobile_image.width | divided_by: section.settings.mobile_image.aspect_ratio
            -%}
            {{
                section.settings.mobile_image
                | image_url: width: 3840
                | image_tag:
                    width: section.settings.mobile_image.width,
                    height: image_height,
                    sizes: sizes,
                    widths: widths,
                    fetchpriority: fetch_priority
            }}
        </div>
    </div>
{%- elsif section.settings.mobile_image != blank and section.settings.desktop_image == blank -%}
    <div class="ec-hero-banner__media">
        {%- liquid
        assign image_height = section.settings.mobile_image.width | divided_by: section.settings.mobile_image.aspect_ratio
        -%}
        {{
            section.settings.mobile_image
            | image_url: width: 3840
            | image_tag:
                width: section.settings.mobile_image.width,
                height: image_height,
                sizes: sizes,
                widths: widths,
                fetchpriority: fetch_priority
        }}
    </div>
{%- else -%}
{{ 'hero-apparel-1' | placeholder_svg_tag: 'placeholder-svg' }}
{%- endif -%}

<div class="ec-banner__content ec-page-width ec-banner__content--desktop-{{ section.settings.desktop_content_position }} ec-banner__content--mobile-{{ section.settings.mobile_content_position }} ec-text-desktop-{{ section.settings.desktop_content_alignment }} ec-text-mobile-{{ section.settings.mobile_content_alignment }}">
    <h1>The Gift Guide</h1>
    <p>Discover Joy: Your Ultimate Holiday Gift Destination. Explore our curated selection and find the perfect gifts to delight your loved ones this holiday season.</p>
    <a href="#" class="ec-button__primary">
        Shop Now
    </a>
</div>
</div>

{% schema %}
{
    "name": "Hero Banner (EC)",
    "class": "section",
    "disabled_on": {
        "groups": ["header", "footer"]
    },
    "settings": [
        {
            "type": "color_scheme",
            "id": "color_scheme",
            "label": "Section Color"
        },
        {
            "type": "image_picker",
            "id": "desktop_image",
            "label": "Desktop Image"
        },
        {
            "type": "select",
            "id": "desktop_image_height",
            "options": [
                {
                    "value": "adapt",
                    "label": "Adapt"
                },
                {
                    "value": "small",
                    "label": "Small"
                },
                {
                    "value": "medium",
                    "label": "Medium"
                },
                {
                    "value": "large",
                    "label": "Large"
                }
            ],
            "default": "medium",
            "label": "Image Height (Desktop)"
        },
        {
            "type": "image_picker",
            "id": "mobile_image",
            "label": "Mobile Image"
        },
        {
            "type": "select",
            "id": "mobile_image_height",
            "options": [
                {
                    "value": "adapt",
                    "label": "Adapt"
                },
                {
                    "value": "small",
                    "label": "Small"
                },
                {
                    "value": "medium",
                    "label": "Medium"
                },
                {
                    "value": "large",
                    "label": "Large"
                }
            ],
            "default": "medium",
            "label": "Image Height (Mobile)"
        },
        {
            "type": "select",
            "id": "desktop_content_position",
            "options": [
                { "value": "top-left", "label": "Top Left" },
                { "value": "top-center", "label": "Top Center" },
                { "value": "top-right", "label": "Top Right" },
                { "value": "middle-left", "label": "Middle Left" },
                { "value": "middle-center", "label": "Middle Center" },
                { "value": "middle-right", "label": "Middle Right" },
                { "value": "bottom-left", "label": "Bottom Left" },
                { "value": "bottom-center", "label": "Bottom Center" },
                { "value": "bottom-right", "label": "Bottom Right" }
            ],
            "default": "middle-center",
            "label": "Content Position (Desktop)"
        },
        {
            "type": "select",
            "id": "mobile_content_position",
            "options": [
                { "value": "top-left", "label": "Top Left" },
                { "value": "top-center", "label": "Top Center" },
                { "value": "top-right", "label": "Top Right" },
                { "value": "middle-left", "label": "Middle Left" },
                { "value": "middle-center", "label": "Middle Center" },
                { "value": "middle-right", "label": "Middle Right" },
                { "value": "bottom-left", "label": "Bottom Left" },
                { "value": "bottom-center", "label": "Bottom Center" },
                { "value": "bottom-right", "label": "Bottom Right" }
            ],
            "default": "middle-center",
            "label": "Content Position (Mobile)"
        },
        {
            "type": "select",
            "id": "desktop_content_alignment",
            "options": [
                { "value": "left", "label": "Left" },
                { "value": "center", "label": "Center" },
                { "value": "right", "label": "Right" }
            ],
            "default": "center",
            "label": "Content Alignment (Desktop)"
        },
        {
            "type": "select",
            "id": "mobile_content_alignment",
            "options": [
                { "value": "left", "label": "Left" },
                { "value": "center", "label": "Center" },
                { "value": "right", "label": "Right" }
            ],
            "default": "center",
            "label": "Content Alignment (Mobile)"
        },
        {
            "type": "header",
            "content": "Spacing"
        },
        {
            "type": "range",
            "id": "padding_top",
            "min": 0,
            "max": 100,
            "step": 4,
            "unit": "px",
            "label": "Padding Top",
            "default": 20
        },
        {
            "type": "range",
            "id": "padding_bottom",
            "min": 0,
            "max": 100,
            "step": 4,
            "unit": "px",
            "label": "Padding Bottom",
            "default": 20
        }
    ],
    "blocks": [],
    "presets": [
        {
            "name": "Hero Banner(EC)"
        }
    ]
}
{% endschema %}
